{% assign enter_date_of_birth = false %}

{% assign age = 18 %}

{% capture adult_header %}
Wuff co
{% endcapture %}

{% capture adult_text %}
This website contains adult material and is only suitable for those 18 years or older. Click Enter only if you are at least 18 years of age.
{% endcapture %}

<div id="prompt-background">
  <div id="age-check-prompt" class="modal-prompt">
      <div class="popup_close_btn">
      <button id="submit_birthdate" class="button-enter btn styled-submit" onclick="ageCheck()" style="display:inline-block"><img width="30" src="{{ 'close.png' | asset_url }}"></button>
      </div>
    <div class="popup_header">
      <div class="popup_header_main">
    <p class="heading_text text-center">
      {% comment %}
      {{ adult_header }}
      
      {% endcomment %}
         We are now closed for christmas <br>
         Orders will ship <span>January 1st</span>
      {% comment %}
      <img width="170" src="https://cdn.shopify.com/s/files/1/0609/5758/9725/files/output-onlinepngtools.png?v=1639400526">
      
      {% endcomment %}

    </p>
        <div class="site-footer__newsletter">
              {% form 'customer' %}
                <input type="hidden" name="contact[tags]" value="newsletter">
                <label for="NewsletterEmail" class="site-footer__newsletter-label text-center">Sign up for restocks</label>
                <div class="input-group--underline">
                  <input type="email" value="{% if customer %}{{ customer.email }}{% endif %}" name="contact[email]" id="NewsletterEmail" class="input-group__field site-footer__newsletter-input" aria-label="{{ 'general.newsletter_form.newsletter_placeholder' | t }}" autocorrect="off" autocapitalize="off">
                  
                </div>
                <div class="site-footer__newsletter-message" aria-role="alert">
                  {% if form.posted_successfully? %}
                    <p class="form-success" aria-role="alert">{{ 'general.newsletter_form.confirmation' | t }}</p>
                  {% endif %}
                  {{ form.errors | default_errors }}</div>
              {% endform %}
            </div>
      </div>
    </div>
    {% comment %}
    <p>
      {{ adult_text }}
    </p>
    {% endcomment %}
    <div{% unless enter_date_of_birth %} style="display:none;"{% endunless %}>
      <select name="bmonth" id="bmonth"{% unless enter_date_of_birth %} value="1"{% endunless %}>
        {% if enter_date_of_birth %}
        <option value="1">- Month -</option>
        <option value="1">January</option>
        <option value="2">February</option>
        <option value="3">March</option>
        <option value="4">April</option>
        <option value="5">May</option>
        <option value="6">June</option>
        <option value="7">July</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
        {% endif %}
      </select> 
      <select name="bday" id="bday"{% unless enter_date_of_birth %} value="1"{% endunless %}>
        {% if enter_date_of_birth %}
        <option value="1">- Day -</option>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10">10</option>
        <option value="11">11</option>
        <option value="12">12</option>
        <option value="13">13</option>
        <option value="14">14</option>
        <option value="15">15</option>
        <option value="16">16</option>
        <option value="17">17</option>
        <option value="18">18</option>
        <option value="19">19</option>
        <option value="20">20</option>
        <option value="21">21</option>
        <option value="22">22</option>
        <option value="23">23</option>
        <option value="24">24</option>
        <option value="25">25</option>
        <option value="26">26</option>
        <option value="27">27</option>
        <option value="28">28</option>
        <option value="29">29</option>
        <option value="30">30</option>
        <option value="31">31</option>
        {% endif %}
      </select>
      <select name="byear" id="byear"{% unless enter_date_of_birth %} value="1950"{% endunless %}>
        {% if enter_date_of_birth %}
        <option value="2015">- Year -</option>
        <option value="2012">2012</option>
        <option value="2011">2011</option>
        <option value="2010">2010</option>
        <option value="2009">2009</option>
        <option value="2008">2008</option>
        <option value="2007">2007</option>
        <option value="2006">2006</option>
        <option value="2005">2005</option>
        <option value="2004">2004</option>
        <option value="2003">2003</option>
        <option value="2002">2002</option>
        <option value="2001">2001</option>
        <option value="2000">2000</option>
        <option value="1999">1999</option>
        <option value="1998">1998</option>
        <option value="1997">1997</option>
        <option value="1996">1996</option>
        <option value="1995">1995</option>
        <option value="1994">1994</option>
        <option value="1993">1993</option>
        <option value="1992">1992</option>
        <option value="1991">1991</option>
        <option value="1990">1990</option>
        <option value="1989">1989</option>
        <option value="1988">1988</option>
        <option value="1987">1987</option>
        <option value="1986">1986</option>
        <option value="1985">1985</option>
        <option value="1984">1984</option>
        <option value="1983">1983</option>
        <option value="1982">1982</option>
        <option value="1981">1981</option>
        <option value="1980">1980</option>
        <option value="1979">1979</option>
        <option value="1978">1978</option>
        <option value="1977">1977</option>
        <option value="1976">1976</option>
        <option value="1975">1975</option>
        <option value="1974">1974</option>
        <option value="1973">1973</option>
        <option value="1972">1972</option>
        <option value="1971">1971</option>
        <option value="1970">1970</option>
        <option value="1969">1969</option>
        <option value="1968">1968</option>
        <option value="1967">1967</option>
        <option value="1966">1966</option>
        <option value="1965">1965</option>
        <option value="1964">1964</option>
        <option value="1963">1963</option>
        <option value="1962">1962</option>
        <option value="1961">1961</option>
        <option value="1960">1960</option>
        <option value="1959">1959</option>
        <option value="1958">1958</option>
        <option value="1957">1957</option>
        <option value="1956">1956</option>
        <option value="1955">1955</option>
        <option value="1954">1954</option>
        <option value="1953">1953</option>
        <option value="1952">1952</option>
        <option value="1951">1951</option>
        <option value="1950">1950</option>
        <option value="1949">1949</option>
        <option value="1948">1948</option>
        <option value="1947">1947</option>
        <option value="1946">1946</option>
        <option value="1945">1945</option>
        <option value="1944">1944</option>
        <option value="1943">1943</option>
        <option value="1942">1942</option>
        <option value="1941">1941</option>
        <option value="1940">1940</option>
        <option value="1939">1939</option>
        <option value="1938">1938</option>
        <option value="1937">1937</option>
        <option value="1936">1936</option>
        <option value="1935">1935</option>
        <option value="1934">1934</option>
        <option value="1933">1933</option>
        <option value="1932">1932</option>
        <option value="1931">1931</option>
        <option value="1930">1930</option>
        <option value="1929">1929</option>
        <option value="1928">1928</option>
        <option value="1927">1927</option>
        <option value="1926">1926</option>
        <option value="1925">1925</option>
        <option value="1924">1924</option>
        <option value="1923">1923</option>
        <option value="1922">1922</option>
        <option value="1921">1921</option>
        <option value="1920">1920</option>
        <option value="1919">1919</option>
        <option value="1918">1918</option>
        <option value="1917">1917</option>
        <option value="1916">1916</option>
        <option value="1915">1915</option>
        <option value="1914">1914</option>
        <option value="1913">1913</option>
        <option value="1912">1912</option>
        <option value="1911">1911</option>
        <option value="1910">1910</option>
      {% endif %}
      </select>
      <div style="clear:both; margin-bottom:15px"></div>
    </div>
    
    
    {% comment %}
    <button id="submit_birthdate" class="button-enter btn styled-submit" onclick="ageCheck()" style="display:inline-block">Click to enter</button> 
    
    <span style="padding: 0 4px">or</span>
    <a href="http://google.com/" id="button-exit" name="button-exit">Exit</a>
    {% endcomment %}
  </div>
</div>

<script>
 function ageCheck() {
   var min_age = {{ age }};  // Set the minimum age. 
   var year =   parseInt(document.getElementById('byear').value);
   var month =  parseInt(document.getElementById('bmonth').value);
   var day =    parseInt(document.getElementById('bday').value);
   var theirDate = new Date((year + min_age), month, day);
   var today = new Date;
   if ((today.getTime() - theirDate.getTime()) < 0) {
     window.location = 'http://google.com'; //enter domain url where you would like the underaged visitor to be sent to.
   } else {
     var days = 14; //number of days until they must go through the age checker again.
     var date = new Date();
     date.setTime(date.getTime()+(days*24*60*60*1000));
     var expires = "; expires="+date.toGMTString();
     document.cookie = 'isAnAdult=true;'+expires+"; path=/";
     location.reload();
   };
  };

  function readCookie(name) {
    var nameEQ = name + "=";
    var ca = document.cookie.split(';');
    for(var i=0;i < ca.length;i++) {
      var c = ca[i];
      while (c.charAt(0)==' ') c = c.substring(1,c.length);
      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
    }
    return null;
  };

  var isAnAdult = readCookie('isAnAdult');
  if (isAnAdult) {
    document.write("<style> #prompt-background { display: none; }</style>");
    document.querySelector('body').classList.add("overflow-scroll");
  };
  

</script>


<style>
.site-footer__newsletter-message p {
 text-align: center;
 opacity: 0.7;
}
.popup_header_main .site-footer__newsletter {
 width: 95%;
 margin: 0 auto;
}
.popup_header_main form label.site-footer__newsletter-label {
 font-style: initial;
 font-weight: normal;
 font-size: 15px;
 margin-bottom: 10px;
 letter-spacing: 2px;
 opacity: 0.7;
 cursor: auto;
}
.popup_header_main {
 width: 76%;
 margin: 0 auto;
}
.popup_header_main form .input-group--underline{
  border: none;
}
.popup_header_main form input#NewsletterEmail {
  background: #fff;
  width: 100%;
  margin: 0 auto;
  padding: 5px;
  outline: none;
}
.heading_text span {
  border-bottom: 3px solid;
}
.popup_header_main p.heading_text {
  font-size: 15px;
  letter-spacing: 2px;
  opacity: 0.7;
  color: #fff;
}
.popup_close_btn #submit_birthdate::after{
  display: none;
}  
.popup_close_btn #submit_birthdate {
  width: 30px;
  height: auto;
  border: none;
}
.popup_close_btn {
  width: 35%;
  background: #000;
  text-align: right;
  padding: 10px;  
  box-shadow: 0px 1px 8px 1px #000;
}
#submit_birthdate:hover{
  text-decoration: underline;
  color: #000;
}
#submit_birthdate{
  background: transparent;
  border: none;
  padding: 0;  
  text-transform: initial;
}
#wuff-co.overflow-scroll{
  overflow: scroll;  
}
#wuff-co{
  overflow: hidden; 
}
.holding_main .holding_inner{
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  min-height: 100vh;
  flex-direction: column;
}
.holding_main .enter_btn{
   color: #000;  
}
.holding_main .enter_btn:hover{
  text-decoration: underline;
}
.modal-prompt h1{
  margin-bottom: 30px;
  font-size: 60px;
  font-weight: bold;
  color: #000;
}

.modal-prompt {
  background: #fff;
  width: 100%;
  height: 100vh;
  margin: 0 auto;
  padding: 10px 35px 30px 35px;
  position: relative;
  z-index: 1000000;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

  .modal-prompt .popup_header{
    background: #000;
    color: #fff;
    width: 35%;
    padding: 50px 0 70px 0;
    box-shadow: 0px 1px 8px 1px #000;
  }
  .modal-prompt p.heading_text {
    color: #fff;
}
  
.modal-prompt p {
  color: #555555;
}

#prompt-background {
  background-color: #fff;
  -webkit-background-size: cover;
  -moz-background-size: cover;
  -o-background-size: cover;
  background-size: cover;
  width: 100%;
  height: 100%;
  position: fixed;
  left: 0;
  top: 0;
  z-index: 9999999;
}
  html.outline-disabled{
    padding-bottom: 0 !important;
  }
.modal-prompt select { float: left; margin-right: 10px; }

  @media only screen and (max-width: 480px){
    
    div.popup_header_main form label.site-footer__newsletter-label {
      letter-spacing: 1px;
    }
    div.popup_header_main p.heading_text{
      letter-spacing: 1px;
    }
    div.modal-prompt{
      padding: 15px;
    }
    div.popup_header_main {
      width: 90%;
    }
    div.popup_close_btn {
      width: 100%;
    }
    div.modal-prompt .popup_header{
      width: 100%;
    }
  }
  
</style>